//------------------------------------------------------
// â–¼ æœ€åˆã®ã‚¹ã‚¿ãƒ¼ãƒˆç”»é¢æ“ä½œ
//------------------------------------------------------
document.addEventListener("DOMContentLoaded", () => {
  const startBtn = document.getElementById("startBtn");
  const startScreen = document.getElementById("startScreen");
  const quiz = document.getElementById("quiz");

  if (!startBtn || !startScreen || !quiz) {
    console.error("âŒ HTMLæ§‹é€ ã«å¿…è¦ãªè¦ç´ ãŒè¶³ã‚Šã¦ã„ã¾ã›ã‚“ã€‚ID ã‚’å†ç¢ºèªã—ã¦ãã ã•ã„ã€‚");
    return;
  }

  quiz.style.display = "none"; // åˆæœŸã§éš ã™
  startScreen.style.display = "block";

  startBtn.onclick = () => {
    startScreen.style.display = "none";
    quiz.style.display = "block";
    showQuestion();
  };
});

//------------------------------------------------------
// è³ªå•ãƒ‡ãƒ¼ã‚¿
//------------------------------------------------------
const questions = [
  {
    q: "1. é€æ˜äººé–“ã«ãªã‚ŒãŸã‚‰ä½•ã‚’ã™ã‚‹ï¼Ÿ",
    a: ["äººã®ç”Ÿæ´»ã‚’è¦³å¯Ÿ", "è‡ªç”±ã«å¥½ããªå ´æ‰€ã¸è¡Œã", "èª°ã‹ã®ç§˜å¯†ã‚’æ¢ã‚‹"],
  },
  {
    q: "2. çªç„¶1000å††ãŒé€ã‚‰ã‚Œã¦ããŸã‚‰ï¼Ÿ",
    a: ["ã™ãä½¿ã†", "è²¯ã‚ã¦ãŠã", "äººã«ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã™ã‚‹"],
  },
  { q: "3. ç„¡äººå³¶ã«1ã¤æŒã£ã¦ã„ããªã‚‰ï¼Ÿ", a: ["é£Ÿæ–™", "æœ¬", "éŸ³æ¥½ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼"] },
  {
    q: "4. å¥½ããªå¤œã®éã”ã—æ–¹ã¯ï¼Ÿ",
    a: ["ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ¼", "æ˜ ç”»é‘‘è³", "æ˜Ÿã‚’çœºã‚ã‚‹"],
  },
  {
    q: "5. æœèµ·ãã¦æœ€åˆã«ã™ã‚‹ã“ã¨ã¯ï¼Ÿ",
    a: ["ã‚¹ãƒãƒ›ç¢ºèª", "ã‚¹ãƒˆãƒ¬ãƒƒãƒ", "ç‘æƒ³ãƒ»æ—¥è¨˜"],
  },
  {
    q: "6. å‹é”ã«ç›¸è«‡ã•ã‚ŒãŸã‚‰ï¼Ÿ",
    a: ["ç‡ç›´ã«ã‚¢ãƒ‰ãƒã‚¤ã‚¹", "è©±ã‚’èã", "è§£æ±ºç­–ã‚’ä¸€ç·’ã«è€ƒãˆã‚‹"],
  },
  {
    q: "7. å¥½ããªã‚¢ãƒ¼ãƒˆã‚„éŸ³æ¥½ã¯ï¼Ÿ",
    a: ["æ´¾æ‰‹ãƒ»åˆºæ¿€çš„", "è½ã¡ç€ã„ãŸã‚‚ã®", "å¥‡æŠœãƒ»ç‹¬å‰µçš„"],
  },
  {
    q: "8. æ—…è¡Œã§é‡è¦ãªã®ã¯ï¼Ÿ",
    a: ["ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ä½“é¨“", "è¦³å…‰ã‚¹ãƒãƒƒãƒˆå·¡ã‚Š", "ã‚†ã£ãã‚Šéã”ã™"],
  },
  {
    q: "9. å–§å˜©ã—ãŸã¨ãã¯ï¼Ÿ",
    a: ["æ„Ÿæƒ…çš„ã«åå¿œ", "è·é›¢ã‚’ç½®ã", "ç›¸æ‰‹ã«åˆã‚ã›ã‚‹"],
  },
  {
    q: "10. å®ãã˜ãŒå½“ãŸã£ãŸã‚‰ï¼Ÿ",
    a: ["å¤§ããä½¿ã†", "æŠ•è³‡ã™ã‚‹", "å¯„ä»˜ãƒ»å‹é”ã«åˆ†ã‘ã‚‹"],
  },
];

//------------------------------------------------------
// ã‚¿ã‚¤ãƒ—ãƒ‡ãƒ¼ã‚¿ï¼ˆç”»åƒè¾¼ã¿ï¼‰
//------------------------------------------------------
const types = [
  {
    name: "æ˜Ÿè¿½ã„äººã‚¿ã‚¤ãƒ—",
    img: "images/dream_chaser.png",
    text: "å¤¢ã‚„ç†æƒ³ã«å‘ã‹ã£ã¦ã¾ã£ã™ãé€²ã‚€ã€ãã‚‰ãã‚‰å¥½å¥‡å¿ƒã‚¿ã‚¤ãƒ—ã€‚å¿ƒãŒã¨ãã‚ãã‚‚ã®ã‚’è¦‹ã¤ã‘ã‚‹ã¨ä¸€ç›´ç·šã€‚æ–°ã—ã„ä¸–ç•Œã‚’é–‹ãåŠ›ãŒã‚ã‚‹ã‚ˆã€‚",
    compatibility: {
      "æ˜Ÿè¿½ã„äººã‚¿ã‚¤ãƒ—": {
        rank: "â—",
        desc: "å¤¢ã‚’èªã‚Šåˆã„ã€ãƒ¯ã‚¯ãƒ¯ã‚¯ã‚’å…±æœ‰ã§ãã‚‹é–¢ä¿‚ã€‚åŒã˜æ–¹å‘ã‚’å‘ã‘ã‚‹ã®ã§æˆé•·ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚‚å€å¢—ã—ã‚„ã™ã„çµ„ã¿åˆã‚ã›ã€‚"
      },
      "å½±èª­ã¿ã‚¿ã‚¤ãƒ—": {
        rank: "ã€‡",
        desc: "ã‚ãªãŸã®å‹¢ã„ã«è½ã¡ç€ãã‚’ä¸ãˆã€ç¾å®Ÿçš„ãªè¦–ç‚¹ã§æ”¯ãˆã¦ãã‚Œã‚‹å­˜åœ¨ã€‚å®‰å¿ƒã—ã¦ç›¸è«‡ã§ãã‚‹ç›¸æ€§ã€‚"
      },
      "éŸ³éŠã³ã‚¿ã‚¤ãƒ—": {
        rank: "â—",
        desc: "è‡ªç”±ã•ã‚’å°Šé‡ã—åˆã„å¥½å¥‡å¿ƒãŒåˆºæ¿€ã•ã‚Œç¶šã‘ã‚‹ç›¸æ€§ã€‚è©±ã™ã ã‘ã§æ–°ã—ã„ã‚¢ã‚¤ãƒ‡ã‚¢ãŒæ¹§ãâ€œå‰µé€ ã®ç›¸æ£’â€ã€‚"
      },
      "é¢¨æ¥åŠã‚¿ã‚¤ãƒ—": {
        rank: "â–³",
        desc: "è‡ªç”±ã•ãŒä¼¼ã¦ã„ã‚‹ãŒæ–¹å‘æ€§ãŒé•ã„ã€ã¾ã¨ã¾ã‚Šã«ãã„ã€‚ã ã‘ã©äºˆå®šã‚’æ±ºã‚ãªã„éŠã³ã¯æœ€é«˜ã«æ¥½ã—ã„ç›¸æ€§ã€‚"
      },
      "ç‚å¿ƒã‚¿ã‚¤ãƒ—": {
        rank: "â–³",
        desc: "åˆºæ¿€ãŒå¼·ãç‡ƒãˆä¸ŠãŒã‚‹ç›¸æ€§ã ãŒã€ã¶ã¤ã‹ã‚‹å ´é¢ã‚‚å¤šã„ã€‚å‘ãåˆãˆã‚‹ã¨çµ†ã¯å¼·ããªã‚‹â€œæƒ…ç†±ã‚³ãƒ³ãƒ“â€ã€‚"
      },
      "é™è¬ã‚¿ã‚¤ãƒ—": {
        rank: "â–³",
        desc: "ã‚ãªãŸã®å‹¢ã„ã‚’ã‚†ã£ãŸã‚Šå—ã‘æ­¢ã‚ã¦ãã‚Œã‚‹ãŒã€ãƒšãƒ¼ã‚¹ãŒé•ã†ãŸã‚è·é›¢ã‚’æ„Ÿã˜ã‚‹ã“ã¨ã‚‚ã€‚æ·±ã¾ã‚Œã°å®‰å¿ƒæ„Ÿã¯å¤§ãã„ã€‚"
      },
      "å¤¢æ¡ˆå†…ã‚¿ã‚¤ãƒ—": {
        rank: "ã€‡",
        desc: "ã‚ãªãŸã®å¤¢ã«å¯„ã‚Šæ·»ã„ã€é“ç­‹ã‚’ãã£ã¨æ•´ãˆã¦ãã‚Œã‚‹â€œå„ªã—ã„ä¼´èµ°è€…â€ã€‚ç”˜ãˆã‚‰ã‚Œã‚‹é–¢ä¿‚ã€‚"
      },
      "å½±éŸ¿è€…ã‚¿ã‚¤ãƒ—": {
        rank: "ã€‡",
        desc: "å½±éŸ¿è€…ã®æ˜ã‚‹ã•ãŒã‚ãªãŸã®å¥½å¥‡å¿ƒã‚’åˆºæ¿€ã—ã€è¡Œå‹•ç¯„å›²ãŒãã£ã¨åºƒãŒã‚‹ã€‚ãŸã ã—æŒ¯ã‚Šå›ã•ã‚Œæ³¨æ„ã€‚"
      }
    }
  },

  {
    name: "å½±èª­ã¿ã‚¿ã‚¤ãƒ—",
    img: "images/shadow_reader.png",
    text: "é™ã‹ã«è¦³å¯Ÿã—ã€çŠ¶æ³ã‚’æ·±ãç†è§£ã™ã‚‹æ´å¯Ÿã‚¿ã‚¤ãƒ—ã€‚äººã®æ°—æŒã¡ã«æ•æ„Ÿã§ã€æ…é‡ã ã‘ã©å„ªã—ã„è³¢è€…ã®ã‚ˆã†ãªå­˜åœ¨ã€‚",
    compatibility: {
      "æ˜Ÿè¿½ã„äººã‚¿ã‚¤ãƒ—": {
        rank: "ã€‡",
        desc: "ç›¸æ‰‹ã®è‡ªç”±ã•ã«åˆºæ¿€ã•ã‚Œã€æ–°ã—ã„è¦‹æ–¹ã‚’å¾—ã‚‰ã‚Œã‚‹ç›¸æ€§ã€‚ã‚ãªãŸã®å†·é™ã•ãŒç›¸æ‰‹ã‚’æ”¯ãˆã¦å®‰å®šã—ãŸé–¢ä¿‚ã«ã€‚"
      },
      "å½±èª­ã¿ã‚¿ã‚¤ãƒ—": {
        rank: "â—",
        desc: "ä¾¡å€¤è¦³ãŒè¿‘ãã€é™ã‹ãªå®‰å¿ƒæ„Ÿã‚’å…±æœ‰ã§ãã‚‹æœ€å¼·ã®åŒèª¿ã‚¿ã‚¤ãƒ—ã€‚æ·±ã„ç†è§£ãŒç”Ÿã¾ã‚Œã‚‹ã€‚"
      },
      "éŸ³éŠã³ã‚¿ã‚¤ãƒ—": {
        rank: "â–³",
        desc: "ç‹¬å‰µçš„ãªç›¸æ‰‹ã®è¨€å‹•ã«æŒ¯ã‚Šå›ã•ã‚Œã‚„ã™ã„ãŒã€ã‚ãªãŸã®æ´å¯ŸãŒç›¸æ‰‹ã‚’è½ã¡ç€ã‹ã›è‰¯ã„ãƒãƒ©ãƒ³ã‚¹ã«ãªã‚‹å¯èƒ½æ€§ã‚‚ã€‚"
      },
      "é¢¨æ¥åŠã‚¿ã‚¤ãƒ—": {
        rank: "â–³",
        desc: "è‡ªç”±ã™ãã‚‹ç›¸æ‰‹ã«ä¸å®‰ã‚’æŠ±ãã‚„ã™ã„ã€‚è·é›¢æ„Ÿã‚’ä¿ã¦ã°åˆºæ¿€ã‚ã‚‹é–¢ä¿‚ã¨ã—ã¦æ¥½ã—ã‚ã‚‹ã€‚"
      },
      "ç‚å¿ƒã‚¿ã‚¤ãƒ—": {
        rank: "ã€‡",
        desc: "æƒ…ç†±çš„ãªç›¸æ‰‹ãŒã‚ãªãŸã®èƒŒä¸­ã‚’æŠ¼ã—ã¦ãã‚Œã‚‹å­˜åœ¨ã«ã€‚æ…é‡ã™ãã‚‹éƒ¨åˆ†ã‚’è£œã£ã¦ãã‚Œã‚‹è‰¯ã„ç›¸æ€§ã€‚"
      },
      "é™è¬ã‚¿ã‚¤ãƒ—": {
        rank: "â—",
        desc: "ä¼¼ãŸæ„Ÿæ€§ã‚’æŒã¤ç™’ã—åˆãˆã‚‹é–¢ä¿‚ã€‚ä¼šè©±ãŒå°‘ãªãã¦ã‚‚æº€ãŸã•ã‚Œã‚‹â€œé™ã‹ãªçµ†â€ã€‚"
      },
      "å¤¢æ¡ˆå†…ã‚¿ã‚¤ãƒ—": {
        rank: "ã€‡",
        desc: "ãŠäº’ã„æ·±ãæ€ã„ã‚„ã‚Œã‚‹ç›¸æ€§ã€‚ã‚ãªãŸã®ç†è§£åŠ›ã¨ç›¸æ‰‹ã®åŒ…å®¹åŠ›ãŒåˆã‚ã•ã‚Šã€ä¿¡é ¼é–¢ä¿‚ãŒç¯‰ãã‚„ã™ã„ã€‚"
      },
      "å½±éŸ¿è€…ã‚¿ã‚¤ãƒ—": {
        rank: "â–³",
        desc: "æ˜ã‚‹ã„ç›¸æ‰‹ã«ç–²ã‚Œã‚„ã™ã„ãŒã€åˆºæ¿€ã¨ã—ã¦ã¯è‰¯ã„æ–¹å‘ã«åƒãã“ã¨ã‚‚ã€‚ãƒ¡ãƒªãƒãƒªã‚ã‚‹é–¢ä¿‚ã«ã€‚"
      }
    }
  },

  {
    name: "éŸ³éŠã³ã‚¿ã‚¤ãƒ—",
    img: "images/sound_player.png",
    text: "æ„Ÿæ€§è±Šã‹ã§ã€è‡ªåˆ†ã‚‰ã—ã„ãƒªã‚ºãƒ ã‚’å¤§åˆ‡ã«ã™ã‚‹ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã‚¿ã‚¤ãƒ—ã€‚å¤¢ä¸­ã«ãªã‚‹ã¨ç‹¬è‡ªã®ä¸–ç•Œã‚’ç”Ÿã¿å‡ºã™æ‰èƒ½ã®æŒã¡ä¸»ã€‚",
    compatibility: {
      "æ˜Ÿè¿½ã„äººã‚¿ã‚¤ãƒ—": {
        rank: "â—",
        desc: "ãŠäº’ã„ã®ä¸–ç•Œè¦³ã‚’å°Šé‡ã—åˆã„ã€åˆºæ¿€ã—åˆãˆã‚‹æœ€é«˜ã®ç›¸æ€§ã€‚è‡ªç„¶ä½“ã§ã„ã‚‰ã‚Œã‚‹ã€‚"
      },
      "å½±èª­ã¿ã‚¿ã‚¤ãƒ—": {
        rank: "â–³",
        desc: "æ·±èª­ã¿ã•ã‚Œã™ãã‚‹ã¨è·é›¢ã‚’æ„Ÿã˜ã‚‹ã‹ã‚‚ã€‚ã‚ãªãŸã®ãƒšãƒ¼ã‚¹ã‚’ç†è§£ã—ã¦ãã‚Œã‚‹ã¨å®‰å®šã€‚"
      },
      "éŸ³éŠã³ã‚¿ã‚¤ãƒ—": {
        rank: "â—",
        desc: "ä¾¡å€¤è¦³ãŒè¿‘ãã€æ„Ÿæ€§ãŒå…±é³´ã™ã‚‹ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼åŒå£«ã®æœ€å¼·ç›¸æ€§ã€‚ãšã£ã¨èªã£ã¦ã„ã‚‰ã‚Œã‚‹ã€‚"
      },
      "é¢¨æ¥åŠã‚¿ã‚¤ãƒ—": {
        rank: "ã€‡",
        desc: "ãµã‚ã£ã¨ä¼¼ãŸè‡ªç”±ã•ã§å±…å¿ƒåœ°ãŒè‰¯ã„ã€‚äºˆå®šã‚’æ±ºã‚ãªã„ãƒ‡ãƒ¼ãƒˆãŒãƒãƒã‚‹ç›¸æ€§ã€‚"
      },
      "ç‚å¿ƒã‚¿ã‚¤ãƒ—": {
        rank: "ã€‡",
        desc: "æƒ…ç†±çš„ãªç›¸æ‰‹ãŒã‚ãªãŸã®å‰µé€ åŠ›ã‚’å¼•ãå‡ºã™ã€‚è¡çªã‚‚ã‚ã‚‹ãŒåˆºæ¿€ã¯å¼·ã„ã€‚"
      },
      "é™è¬ã‚¿ã‚¤ãƒ—": {
        rank: "â–³",
        desc: "ã‚ãªãŸã®å¤‰åŒ–ã«ç›¸æ‰‹ãŒã¤ã„ã¦ã“ã‚Œãªã„ã“ã¨ã‚‚ã€‚ç›¸æ‰‹ã®ã‚„ã•ã—ã•ã¯å¿ƒã‚’å’Œã¾ã›ã¦ãã‚Œã‚‹ã€‚"
      },
      "å¤¢æ¡ˆå†…ã‚¿ã‚¤ãƒ—": {
        rank: "ã€‡",
        desc: "ã‚ãªãŸã‚’å¦å®šã›ãšå—ã‘æ­¢ã‚ã¦ãã‚Œã‚‹å„ªã—ã„ç›¸æ‰‹ã€‚ãƒšãƒ¼ã‚¹ã‚’æ•´ãˆã¦ãã‚Œã‚‹å­˜åœ¨ã€‚"
      },
      "å½±éŸ¿è€…ã‚¿ã‚¤ãƒ—": {
        rank: "ã€‡",
        desc: "æ˜ã‚‹ã•ã¨è‡ªç”±ã•ãŒæ··ã–ã‚Šæ¥½ã—ã„é–¢ä¿‚ã«ã€‚ãŸã ã—ãƒ†ãƒ³ã‚·ãƒ§ãƒ³å·®ãŒå‡ºã‚‹ã¨ç–²ã‚Œã‚„ã™ã„ã€‚"
      }
    }
  },

  {
    name: "é¢¨æ¥åŠã‚¿ã‚¤ãƒ—",
    img: "images/wanderer.png",
    text: "è‡ªç”±æ°—ã¾ã¾ã«ã€é¢¨ã®ã‚ˆã†ã«è»½ã‚„ã‹ã«ç”Ÿãã‚‹ã‚¿ã‚¤ãƒ—ã€‚å¿ƒåœ°ã‚ˆã„æµã‚Œã«èº«ã‚’ä»»ã›ã‚‹ã“ã¨ã§æœ¬æ¥ã®è¼ããŒå¢—ã—ã¦ã„ãã‚ˆã€‚",
    compatibility: {
      "æ˜Ÿè¿½ã„äººã‚¿ã‚¤ãƒ—": {
        rank: "â–³",
        desc: "ä¼¼ã¦ã„ã‚‹éƒ¨åˆ†ã‚‚ã‚ã‚‹ãŒæ–¹å‘æ€§ãŒå™›ã¿åˆã„ã¥ã‚‰ã„ã€‚ãŸã ã—ä¸€ç·’ã«ã„ã‚‹ã¨æ¥½ã—ã„ç¬é–“ã¯å¤šã„ã€‚"
      },
      "å½±èª­ã¿ã‚¿ã‚¤ãƒ—": {
        rank: "â–³",
        desc: "æ…é‡ãªç›¸æ‰‹ã®ãƒšãƒ¼ã‚¹ã«åˆã‚ã›ã‚‹ã®ãŒè‹¦æ‰‹ã€‚ãŸã ã—ç›¸æ‰‹ã®ç†è§£åŠ›ã¯å®‰å¿ƒæ„Ÿã‚’ãã‚Œã‚‹ã€‚"
      },
      "éŸ³éŠã³ã‚¿ã‚¤ãƒ—": {
        rank: "ã€‡",
        desc: "è‡ªç”±ã•ãŒä¼¼ã¦ã„ã¦æ°—ãŒæ¥½ã€‚å¿ƒãŒé¢¨ã®ã‚ˆã†ã«è»½ããªã‚‹ç›¸æ€§ã€‚"
      },
      "é¢¨æ¥åŠã‚¿ã‚¤ãƒ—": {
        rank: "â—",
        desc: "ãŠäº’ã„æŸç¸›ã›ãšå¿ƒåœ°è‰¯ã„è·é›¢æ„Ÿã§ã„ã‚‰ã‚Œã‚‹æœ€å¼·ã®è‡ªç”±ã‚³ãƒ³ãƒ“ã€‚"
      },
      "ç‚å¿ƒã‚¿ã‚¤ãƒ—": {
        rank: "ã€‡",
        desc: "æƒ…ç†±ã«å¼•ã£å¼µã‚‰ã‚Œã‚‹ã¨æ–°ã—ã„ä¸–ç•ŒãŒåºƒãŒã‚‹ã€‚ãŸã ã—ãƒšãƒ¼ã‚¹ãŒé•ã„ã™ãã‚‹ã¨ç–²ã‚Œã‚„ã™ã„ã€‚"
      },
      "é™è¬ã‚¿ã‚¤ãƒ—": {
        rank: "â–³",
        desc: "ã‚ãªãŸã®å¤‰åŒ–ã«ç›¸æ‰‹ãŒä¸å®‰ã‚’æ„Ÿã˜ã‚„ã™ã„ã€‚æ­©å¹…ã‚’åˆã‚ã›ã‚ˆã†ã¨ã™ã‚‹ã¨è‰¯ã„é–¢ä¿‚ã«ã€‚"
      },
      "å¤¢æ¡ˆå†…ã‚¿ã‚¤ãƒ—": {
        rank: "ã€‡",
        desc: "ç›¸æ‰‹ã®å„ªã—ã•ãŒã‚ãªãŸã‚’åŒ…ã¿è¾¼ã¿ã€å®‰å¿ƒã—ã¦è‡ªç”±ã§ã„ã‚‰ã‚Œã‚‹ç›¸æ€§ã€‚"
      },
      "å½±éŸ¿è€…ã‚¿ã‚¤ãƒ—": {
        rank: "â—",
        desc: "æ˜ã‚‹ãæ¥½ã—ã„é›°å›²æ°—ãŒãƒãƒƒãƒã—ã€ä¸€ç·’ã«ã„ã‚‹ã ã‘ã§ç¬‘é¡”ãŒå¢—ãˆã‚‹æœ€é«˜ã®éŠã³ç›¸æ‰‹ã€‚"
      }
    }
  },

  {
    name: "ç‚å¿ƒã‚¿ã‚¤ãƒ—",
    img: "images/flame_heart.png",
    text: "æƒ…ç†±çš„ã§ãƒ‘ãƒ¯ãƒ•ãƒ«ã€‚ç›®æ¨™ã‚’è¦‹ã¤ã‘ã‚‹ã¨å…¨åŠ›ã§çªãé€²ã‚€ãƒãƒ£ãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼ã‚¿ã‚¤ãƒ—ã€‚å‘¨ã‚Šã‚‚å…ƒæ°—ã«ã™ã‚‹æ˜ã‚‹ã„ã‚¨ãƒãƒ«ã‚®ãƒ¼ã®æŒã¡ä¸»ã€‚",
    compatibility: {
      "æ˜Ÿè¿½ã„äººã‚¿ã‚¤ãƒ—": {
        rank: "â–³",
        desc: "åˆºæ¿€ã¯ã‚ã‚‹ãŒè¡çªã‚‚å¤šã„ã€‚å‘ãåˆã†å§¿å‹¢ãŒã‚ã‚Œã°è‰¯ã„æ–¹å‘ã¸é€²ã‚€å¯èƒ½æ€§ã‚ã‚Šã€‚"
      },
      "å½±èª­ã¿ã‚¿ã‚¤ãƒ—": {
        rank: "ã€‡",
        desc: "ç›¸æ‰‹ãŒã‚ãªãŸã®å‹¢ã„ã‚’ä¸Šæ‰‹ã«å—ã‘æ­¢ã‚ã¦ãã‚Œã‚‹ã€‚è½ã¡ç€ãã¨æƒ…ç†±ã®ãƒãƒ©ãƒ³ã‚¹ãŒè‰¯ã„ã€‚"
      },
      "éŸ³éŠã³ã‚¿ã‚¤ãƒ—": {
        rank: "ã€‡",
        desc: "ã‚ãªãŸã®æƒ…ç†±ãŒç›¸æ‰‹ã® creativity ã‚’å¼·ãåˆºæ¿€ã€‚éå¸¸ã«æ¥½ã—ã„çµ„ã¿åˆã‚ã›ã€‚"
      },
      "é¢¨æ¥åŠã‚¿ã‚¤ãƒ—": {
        rank: "ã€‡",
        desc: "é¢¨æ¥åŠã®è‡ªç”±ã•ã«ã‚ãªãŸã®å‹¢ã„ãŒåŠ ã‚ã‚Šã€æ–°ã—ã„å†’é™ºãŒå§‹ã¾ã‚‹ç›¸æ€§ã€‚"
      },
      "ç‚å¿ƒã‚¿ã‚¤ãƒ—": {
        rank: "â—",
        desc: "åŒã˜æƒ…ç†±ã‚’æŒã¤è€…åŒå£«ã€‚è¡çªã¯ã‚ã‚‹ãŒç‡ƒãˆä¸ŠãŒã‚‹é–¢ä¿‚ã€‚"
      },
      "é™è¬ã‚¿ã‚¤ãƒ—": {
        rank: "â–³",
        desc: "ç›¸æ‰‹ã®é™ã‘ã•ã«è‹›ç«‹ã¤ã“ã¨ã‚‚ã‚ã‚‹ãŒã€æ·±ã¾ã‚Œã°å¿ƒã‚’ç™’ã—ã¦ãã‚Œã‚‹å­˜åœ¨ã«ã€‚"
      },
      "å¤¢æ¡ˆå†…ã‚¿ã‚¤ãƒ—": {
        rank: "ã€‡",
        desc: "ç›¸æ‰‹ãŒã‚ãªãŸã®åŠ›ã‚’å¾ŒæŠ¼ã—ã—ã¦ãã‚Œã‚‹ã€‚é ¼ã‚Œã‚‹ç›¸æ€§ã€‚"
      },
      "å½±éŸ¿è€…ã‚¿ã‚¤ãƒ—": {
        rank: "â—",
        desc: "æ˜ã‚‹ã•Ã—æƒ…ç†±ã§å‘¨å›²ã‚’å·»ãè¾¼ã‚€æœ€å¼·ã‚³ãƒ³ãƒ“ã€‚ç››ã‚Šä¸ŠãŒã‚‹ç›¸æ€§ã€‚"
      }
    }
  },

  {
    name: "é™è¬ã‚¿ã‚¤ãƒ—",
    img: "images/serenity.png",
    text: "ç©ã‚„ã‹ã§å„ªã—ã„ç©ºæ°—ã‚’ã¾ã¨ã£ãŸç™’ã—ã‚¿ã‚¤ãƒ—ã€‚è½ã¡ç€ã„ãŸåˆ¤æ–­åŠ›ã‚’æŒã¡ã€ãã°ã«ã„ã‚‹ã ã‘ã§å®‰å¿ƒæ„Ÿã‚’ä¸ãˆã‚‹å­˜åœ¨ã€‚",
    compatibility: {
      "æ˜Ÿè¿½ã„äººã‚¿ã‚¤ãƒ—": {
        rank: "â–³",
        desc: "ç›¸æ‰‹ã®å‹¢ã„ã«åˆã‚ã›ã‚‹ã¨ç–²ã‚Œã‚‹ã‘ã‚Œã©ã€æ·±ã¾ã‚Œã°ç™’ã—ã®é–¢ä¿‚ã«ã€‚"
      },
      "å½±èª­ã¿ã‚¿ã‚¤ãƒ—": {
        rank: "â—",
        desc: "æ„Ÿæ€§ãŒè¿‘ãã€è‡ªç„¶ã¨ä¿¡é ¼ã—åˆãˆã‚‹æœ€è‰¯ã®çµ„ã¿åˆã‚ã›ã€‚"
      },
      "éŸ³éŠã³ã‚¿ã‚¤ãƒ—": {
        rank: "â–³",
        desc: "å¤‰åŒ–ãŒæ¿€ã—ã„ç›¸æ‰‹ã«æŒ¯ã‚Šå›ã•ã‚Œã‚„ã™ã„ãŒã€èª¿å’Œã‚’ç”Ÿã¿å‡ºã›ã‚Œã°å¿ƒåœ°ã‚ˆããªã‚‹ã€‚"
      },
      "é¢¨æ¥åŠã‚¿ã‚¤ãƒ—": {
        rank: "â–³",
        desc: "ç›¸æ‰‹ã®æ°—ã¾ãã‚Œã•ã«ä¸å®‰ã‚’æ„Ÿã˜ã‚„ã™ã„ãŒã€è·é›¢æ„Ÿã‚’ä¿ã¦ã°ã‚„ã•ã—ã„é–¢ä¿‚ã«ã€‚"
      },
      "ç‚å¿ƒã‚¿ã‚¤ãƒ—": {
        rank: "â–³",
        desc: "æƒ…ç†±ãŒå¼·ã™ãã‚‹ã¨ç–²ã‚Œã‚‹ã“ã¨ã‚‚ã€‚æ­©ã¿å¯„ã‚ŠãŒå¤§åˆ‡ãªç›¸æ€§ã€‚"
      },
      "é™è¬ã‚¿ã‚¤ãƒ—": {
        rank: "â—",
        desc: "åŒã˜ãƒ†ãƒ³ãƒã§éã”ã›ã‚‹å®‰å¿ƒæ„ŸæŠœç¾¤ã®ç›¸æ€§ã€‚"
      },
      "å¤¢æ¡ˆå†…ã‚¿ã‚¤ãƒ—": {
        rank: "ã€‡",
        desc: "ã‚ãªãŸã‚’å¤§åˆ‡ã«æ‰±ã„ã€å„ªã—ãæ”¯ãˆã¦ãã‚Œã‚‹å®‰å®šæ„Ÿã®é«˜ã„é–¢ä¿‚ã€‚"
      },
      "å½±éŸ¿è€…ã‚¿ã‚¤ãƒ—": {
        rank: "â–³",
        desc: "æ˜ã‚‹ã•ã«åœ§å€’ã•ã‚Œã‚„ã™ã„ãŒã€ç›¸æ‰‹ã®å‰å‘ãã•ã«åŠ©ã‘ã‚‰ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã€‚"
      }
    }
  },

  {
    name: "å¤¢æ¡ˆå†…ã‚¿ã‚¤ãƒ—",
    img: "images/dream_guide.png",
    text: "äººã‚’æ”¯ãˆã‚‹åŠ›ã«é•·ã‘ãŸã‚¬ã‚¤ãƒ‰ã‚¿ã‚¤ãƒ—ã€‚ç›¸æ‰‹ã«å¯„ã‚Šæ·»ã„ãªãŒã‚‰ã€ãã£ã¨èƒŒä¸­ã‚’æŠ¼ã—ã¦ã‚ã’ã‚‰ã‚Œã‚‹å„ªã—ã„ãƒªãƒ¼ãƒ€ãƒ¼æ°—è³ªã€‚",
    compatibility: {
      "æ˜Ÿè¿½ã„äººã‚¿ã‚¤ãƒ—": {
        rank: "ã€‡",
        desc: "ã‚ãªãŸã®åŒ…å®¹åŠ›ãŒç›¸æ‰‹ã®å¤¢ã‚’å¾ŒæŠ¼ã—ã™ã‚‹å„ªã—ã„é–¢ä¿‚ã€‚"
      },
      "å½±èª­ã¿ã‚¿ã‚¤ãƒ—": {
        rank: "ã€‡",
        desc: "æ·±ãç†è§£ã—åˆãˆã‚‹å®‰å®šç›¸æ€§ã€‚ã‚ãªãŸã®å„ªã—ã•ãŒã‚ˆã‚Šæ´»ãã‚‹ã€‚"
      },
      "éŸ³éŠã³ã‚¿ã‚¤ãƒ—": {
        rank: "ã€‡",
        desc: "è‡ªç”±ãªç›¸æ‰‹ã‚’ã†ã¾ãæ”¯ãˆã¤ã¤ã€ãŠäº’ã„ã®å€‹æ€§ãŒä¼¸ã³ã‚‹çµ„ã¿åˆã‚ã›ã€‚"
      },
      "é¢¨æ¥åŠã‚¿ã‚¤ãƒ—": {
        rank: "ã€‡",
        desc: "è‡ªç”±ãªç›¸æ‰‹ã«å¯„ã‚Šæ·»ã„ã¤ã¤ã€å®‰å¿ƒã§ãã‚‹å±…å ´æ‰€ã‚’æä¾›ã§ãã‚‹ç›¸æ€§ã€‚"
      },
      "ç‚å¿ƒã‚¿ã‚¤ãƒ—": {
        rank: "ã€‡",
        desc: "æƒ…ç†±çš„ãªç›¸æ‰‹ã®è‰¯ã„ç†è§£è€…ã«ã€‚å‹¢ã„ã‚’è‰¯ã„æ–¹å‘ã«å°ã‘ã‚‹ã€‚"
      },
      "é™è¬ã‚¿ã‚¤ãƒ—": {
        rank: "ã€‡",
        desc: "ç©ã‚„ã‹ã§å¿ƒæ¸©ã¾ã‚‹é–¢ä¿‚ã€‚ç„¡ç†ãªãå”åŠ›ã—åˆãˆã‚‹ç›¸æ€§ã€‚"
      },
      "å¤¢æ¡ˆå†…ã‚¿ã‚¤ãƒ—": {
        rank: "â—",
        desc: "ãŠäº’ã„ã‚’å¤§åˆ‡ã«ã™ã‚‹ç†æƒ³çš„ãªé–¢ä¿‚æ€§ã€‚æ·±ã„ä¿¡é ¼ãŒç”Ÿã¾ã‚Œã‚‹ã€‚"
      },
      "å½±éŸ¿è€…ã‚¿ã‚¤ãƒ—": {
        rank: "â—",
        desc: "æ˜ã‚‹ã•ã¨å„ªã—ã•ãŒèª¿å’Œã—ã€å‘¨ã‚Šã«ã‚‚è‰¯ã„å½±éŸ¿ã‚’ä¸ãˆã‚‹æœ€è‰¯ã‚³ãƒ³ãƒ“ã€‚"
      }
    }
  },

  {
    name: "å½±éŸ¿è€…ã‚¿ã‚¤ãƒ—",
    img: "images/influencer.png",
    text: "å¤ªé™½ã®ã‚ˆã†ã«æ˜ã‚‹ãã€å‘¨ã‚Šã‚’å…ƒæ°—ã«ã™ã‚‹å½±éŸ¿åŠ›ã‚¿ã‚¤ãƒ—ã€‚å‰å‘ããªè¡Œå‹•ã§è‡ªç„¶ã¨äººã‚’æƒ¹ãã¤ã‘ã‚‹ãƒ ãƒ¼ãƒ‰ãƒ¡ãƒ¼ã‚«ãƒ¼ã€‚",
    compatibility: {
      "æ˜Ÿè¿½ã„äººã‚¿ã‚¤ãƒ—": {
        rank: "ã€‡",
        desc: "ç›¸æ‰‹ã®å¥½å¥‡å¿ƒã¨ã‚ãªãŸã®æ˜ã‚‹ã•ã§è¡Œå‹•åŠ›ãŒå¢—ã™æ¥½ã—ã„ç›¸æ€§ã€‚"
      },
      "å½±èª­ã¿ã‚¿ã‚¤ãƒ—": {
        rank: "â–³",
        desc: "é™ã‹ãªç›¸æ‰‹ã«æ°—ã‚’é£ã„ã™ãã‚‹ã“ã¨ã‚‚ã€‚ãŸã ã—æ”¯ãˆã«ãªã‚‹å ´åˆã‚‚å¤šã„ã€‚"
      },
      "éŸ³éŠã³ã‚¿ã‚¤ãƒ—": {
        rank: "ã€‡",
        desc: "è‡ªç”±ãªç›¸æ‰‹ã¨ã„ã‚‹ã¨æ¥½ã—ãã€ãƒ†ãƒ³ã‚·ãƒ§ãƒ³ãŒåˆã†æ™‚é–“ãŒå¤šã„ã€‚"
      },
      "é¢¨æ¥åŠã‚¿ã‚¤ãƒ—": {
        rank: "â—",
        desc: "ãƒãƒªã¨æ¥½ã—ã•ãŒä¸€è‡´ã—ã€ä¸€ç·’ã«ã„ã‚‹ã ã‘ã§ãƒ¯ã‚¯ãƒ¯ã‚¯ãŒå¢—ãˆã‚‹æœ€å¼·ã®éŠã³ç›¸æ‰‹ã€‚"
      },
      "ç‚å¿ƒã‚¿ã‚¤ãƒ—": {
        rank: "â—",
        desc: "æƒ…ç†±Ã—æ˜ã‚‹ã•ã§æœ€å¼·ã‚¿ãƒƒã‚°ã€‚å‘¨å›²ã‚’å·»ãè¾¼ã‚€ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’ç”Ÿã‚ã‚‹ã€‚"
      },
      "é™è¬ã‚¿ã‚¤ãƒ—": {
        rank: "â–³",
        desc: "è½ã¡ç€ã„ãŸç›¸æ‰‹ã«ãƒ†ãƒ³ã‚·ãƒ§ãƒ³ã‚’å‰ŠãŒã‚Œã‚‹ã“ã¨ã‚‚ã€‚æ­©å¹…ã‚’åˆã‚ã›ã‚‹ã¨è‰¯ã„æ–¹å‘ã«ã€‚"
      },
      "å¤¢æ¡ˆå†…ã‚¿ã‚¤ãƒ—": {
        rank: "â—",
        desc: "ã‚ãªãŸã®æ˜ã‚‹ã•ã‚’å„ªã—ãå—ã‘æ­¢ã‚ã¦ãã‚Œã‚‹æœ€é«˜ã®ç†è§£è€…ç›¸æ€§ã€‚"
      },
      "å½±éŸ¿è€…ã‚¿ã‚¤ãƒ—": {
        rank: "â—",
        desc: "æ˜ã‚‹ã•ã¨å‰å‘ãã•ã§ç›¸ä¹—åŠ¹æœãŒç”Ÿã¾ã‚Œã€æœ€ã‚‚ã‚¨ãƒãƒ«ã‚®ãƒƒã‚·ãƒ¥ãªã‚³ãƒ³ãƒ“ã«ã€‚"
      }
    }
  },
];


//------------------------------------------------------
// ç›¸æ€§ãƒãƒˆãƒªã‚¯ã‚¹
//------------------------------------------------------
const compatibility = [
  [80, 60, 70, 75, 85, 50, 65, 70],
  [60, 80, 55, 50, 65, 85, 75, 60],
  [70, 55, 80, 65, 75, 60, 70, 65],
  [75, 50, 65, 80, 70, 55, 60, 75],
  [85, 65, 75, 70, 80, 60, 70, 80],
  [50, 85, 60, 55, 60, 80, 75, 60],
  [65, 75, 70, 60, 70, 75, 80, 65],
  [70, 60, 65, 75, 80, 60, 65, 80],
];

//------------------------------------------------------
// ã‚¹ã‚³ã‚¢ç®¡ç†
//------------------------------------------------------
let scores = Array(types.length).fill(0);
let current = 0;

//------------------------------------------------------
// è³ªå•ã‚’è¡¨ç¤º
//------------------------------------------------------
function showQuestion() {
  if (current >= questions.length) {
    showResult();
    return;
  }

  const qDiv = document.getElementById("quiz");
  qDiv.innerHTML = `<div class="question">${questions[current].q}</div>`;
  const qElem = qDiv.querySelector(".question");
  setTimeout(() => qElem.classList.add("show"), 50);

  questions[current].a.forEach((ans, idx) => {
    const btn = document.createElement("button");
    btn.innerText = ans;
    btn.onclick = () => selectAnswer(idx);
    qDiv.appendChild(btn);
  });
}

//------------------------------------------------------
// å›ç­”å‡¦ç†
//------------------------------------------------------
function selectAnswer(choice) {
  if (choice === 0) {
    [0, 3, 4].forEach((i) => scores[i]++);
  }
  if (choice === 1) {
    [1, 5, 6].forEach((i) => scores[i]++);
  }
  if (choice === 2) {
    [2, 7].forEach((i) => scores[i]++);
  }

  current++;
  showQuestion();
}

//------------------------------------------------------
// çµæœã‚’è¡¨ç¤º
//------------------------------------------------------
function showResult() {
  const rDiv = document.getElementById("result");
  rDiv.style.display = "block";

  const maxScore = Math.max(...scores);
  const idx = scores.indexOf(maxScore);
  const userType = types[idx];

  // æ–°ã—ã„ç›¸æ€§åˆ¤å®šï¼ˆBEST1/WORST1ï¼‰
  const { best, worst } = getBestAndWorstCompatibility(userType);

  rDiv.innerHTML = `
    <h2>ã‚ãªãŸã®ã‚¿ã‚¤ãƒ—ã¯ ${userType.name}ï¼</h2>
    <img src="${userType.img}">
    <p>${userType.text}</p>

    <div class="compatibility-block">
      <h3>â¤ï¸ ç›¸æ€§ãŒã„ã„ã‚¿ã‚¤ãƒ—ï¼ˆãƒ™ã‚¹ãƒˆ1ï¼‰</h3>
      <p><b>${best.name}</b>ï¼ˆ${best.rank}ï¼‰<br>${best.desc}</p>

      <h3>ğŸ’” ç›¸æ€§ãŒæ‚ªã„ã‚¿ã‚¤ãƒ—ï¼ˆãƒ¯ãƒ¼ã‚¹ãƒˆ1ï¼‰</h3>
      <p><b>${worst.name}</b>ï¼ˆ${worst.rank}ï¼‰<br>${worst.desc}</p>
    </div>
  `;

  rDiv.classList.add("show");


  // è³ªå•ã‚¨ãƒªã‚¢ã¯æ¶ˆã™
  document.getElementById("quiz").innerHTML = "";
}

function getBestAndWorstCompatibility(typeObj) {
  const comp = typeObj.compatibility;

  // rank ã‚’æ•°å€¤åŒ–ã—ã¦å¤§å°æ¯”è¼ƒã—ã‚„ã™ãã™ã‚‹
  const rankValue = { "â—": 3, "ã€‡": 2, "â–³": 1 };

  const list = Object.entries(comp).map(([name, info]) => ({
    name,
    rank: info.rank,
    desc: info.desc,
    value: rankValue[info.rank]
  }));

  // ç›¸æ€§ãŒè‰¯ã„ BEST1ï¼ˆæœ€å¤§å€¤ï¼‰
  const best = list.reduce((a, b) => (a.value > b.value ? a : b));

  // ç›¸æ€§ãŒæ‚ªã„ WORST1ï¼ˆæœ€å°å€¤ï¼‰
  const worst = list.reduce((a, b) => (a.value < b.value ? a : b));

  return { best, worst };
}
